[{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\api\\apparel-agent\\generate\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MultiAgentPhase' is defined but never used.","line":2,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":52,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MultiAgentPhase"},"fix":{"range":[74,96],"text":""},"desc":"Remove unused variable \"MultiAgentPhase\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'images' is assigned a value but never used.","line":17,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'category' is defined but never used.","line":89,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":89,"endColumn":43},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'audience' is defined but never used.","line":89,"column":53,"nodeType":"Identifier","messageId":"unusedVar","endLine":89,"endColumn":61}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\r\nimport { type ApparelResponse, type MultiAgentPhase } from \"@/types/apparel\";\r\n\r\nconst VOLCENGINE_API_KEY = process.env.VOLCENGINE_API_KEY || \"\";\r\nconst DOUBAO_ENDPOINT_ID = process.env.DOUBAO_ENDPOINT_ID || \"ep-20250218-placeholder\";\r\nconst BASE_URL = \"https://ark.cn-beijing.volces.com/api/v3\";\r\n\r\nexport async function POST(req: Request) {\r\n  const abortController = new AbortController();\r\n\r\n  req.signal?.addEventListener(\"abort\", () => {\r\n    abortController.abort();\r\n  });\r\n\r\n  try {\r\n    const body = await req.json();\r\n    const { category, targetAudience, images } = body;\r\n\r\n    // We simulate the progressive phases for the frontend to show loading states\r\n    // In a real Server-Sent Events (SSE) setup, we would stream these phases out.\r\n    // For now, we do a single highly-structured JSON call that mimics the end result\r\n    // of the 5-agent pipeline to the LLM.\r\n\r\n    if (!VOLCENGINE_API_KEY) {\r\n      await new Promise((resolve) => setTimeout(resolve, 3000));\r\n      return NextResponse.json({ result: buildMockApparelResponse(category, targetAudience) });\r\n    }\r\n\r\n    const systemPrompt = `浣犳槸涓€涓敱5浣嶉《灏栫數鍟嗕笓瀹剁粍鎴愮殑鈥滆鎯呴〉绛栧垝濮斿憳浼氣€濓細鍥惧儚瑙ｆ瀽甯堛€佷汉缇ゅ垎鏋愬笀銆佹枃妗堜富绗斻€佽祫娣卞鏍告€荤洃銆傝閽堝瀹㈡埛鎻愪緵鐨勪俊鎭紙鍝佺被锛?{category}锛屽缇わ細${targetAudience}锛夋墽琛屼互涓嬪垎鏋愶紝骞惰緭鍑烘爣鍑咼SON鏍煎紡鐨勫晢涓氭枃妗堝叏妗堬細\r\n    \r\n1. 銆愬浘鍍忚В鏋愩€戯細鎻愬彇鏈嶈瑙嗚鍗栫偣銆俓r\n2. 銆愪汉缇ゅ垎鏋愩€戯細鎺ㄥ鐩爣浜虹兢鐨勭┛鐫€鍦烘櫙涓庢瀬搴︾棝鐐广€俓r\n3. 銆愭枃妗堣浆鎹€戯細灏嗙墿鐞嗗崠鐐逛笌鐥涚偣缁撳悎锛岃緭鍑衡€滃疄鐢ㄥ瀷涔扮偣鈥濄€俓r\n4. 銆愯璁″缓璁€戯細瑙勫垝5寮犱富鍥鹃€昏緫涓庤鎯呴〉闀垮浘缁撴瀯銆俓r\n5. 銆愬鏈嶅墽鏈€戯細鐢熸垚閽堝涓嶅悓浜鸿鐨勯€肩湡涔板绉€鍜孮&A銆俓r\n\r\n涓ユ牸閬靛畧JSON鏍煎紡锛歕r\n{\r\n  \"sellingPoints\": [{ \"title\": \"涔扮偣鏍囬\", \"description\": \"缁撳悎鐥涚偣鐨勫満鏅寲鎻忚堪\" }],\r\n  \"scenarios\": [\"鍦烘櫙1\", \"鍦烘櫙2\"],\r\n  \"mainImages\": [{ \"index\": 1, \"concept\": \"鍦烘櫙浠ｅ叆\", \"suggestion\": \"缇庡浘寤鸿\" }],\r\n  \"longPageStructure\": [{ \"section\": \"鏉垮潡鍚嶇О\", \"content\": \"鏉垮潡鍐呭璇存槑\" }],\r\n  \"reviews\": [{ \"persona\": \"浜鸿瑙掕壊\", \"content\": \"鏋佸叾閫肩湡鐨勮瘎浠峰唴瀹筡" }],\r\n  \"qna\": [{ \"question\": \"楂橀闂\", \"answer\": \"瀹樻柟瑙ｇ瓟\" }]\r\n}`;\r\n\r\n    const response = await fetch(`${BASE_URL}/chat/completions`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${VOLCENGINE_API_KEY}`,\r\n      },\r\n      body: JSON.stringify({\r\n        model: DOUBAO_ENDPOINT_ID,\r\n        messages: [\r\n          { role: \"system\", content: systemPrompt },\r\n          { role: \"user\", content: \"寮€濮嬬瓥鍒抃" },\r\n        ],\r\n        temperature: 0.7,\r\n        max_tokens: 4000,\r\n        response_format: { type: \"json_object\" },\r\n      }),\r\n      signal: abortController.signal,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`API error: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    const content = data.choices?.[0]?.message?.content || \"{}\";\r\n    \r\n    try {\r\n      const parsed = JSON.parse(content) as ApparelResponse;\r\n      return NextResponse.json({ result: parsed });\r\n    } catch {\r\n      return NextResponse.json({ result: buildMockApparelResponse(category, targetAudience) });\r\n    }\r\n\r\n  } catch (error: unknown) {\r\n    if (error instanceof Error && error.name === \"AbortError\") {\r\n      return NextResponse.json({ error: \"Aborted\" }, { status: 499 });\r\n    }\r\n    console.error(error);\r\n    return NextResponse.json({ error: \"Failed\" }, { status: 500 });\r\n  }\r\n}\r\n\r\nfunction buildMockApparelResponse(category: string, audience: string): ApparelResponse {\r\n  return {\r\n    sellingPoints: [\r\n      { title: \"360掳閿佹俯閲戦挓缃‐", description: \"闃查棰嗗彛涓庤鍙ｆ敹绱ц璁★紝椋庡啀澶т篃鐏屼笉杩涙潵锛屾姷寰′弗瀵掋€俓" },\r\n      { title: \"鍥涗釜鏆栨墜瀹濆ぇ鍙ｈ\", description: \"绔嬩綋宸ヨ澶氬彛琚嬶紝瀛╁瓙鐨勯浂椋熺帺鍏烽殢鎵嬭棌锛屽疄鐢ㄥ張甯呮皵銆俓" },\r\n      { title: \"绉戝閰嶆瘮涓嶈噧鑲縗", description: \"浼樿川缇界粧绮惧噯鍏呯粧锛屽憡鍒紒楣呰埇绗ㄩ噸锛岃嚜鐢卞璺戞棤璐熸媴銆俓" }\r\n    ],\r\n    scenarios: [\r\n      \"鍐棩鏅ㄨ捣涓婂閫氬嫟锛屾姉浣忓埡楠ㄩ捇椋嶾",\r\n      \"鍛ㄦ湯鍏洯鐤窇鍑烘睏锛岄€忔皵涓嶆崅鐑璡",\r\n      \"闆湴杩涢樁杩愬姩锛岃交鐩堜笉鍙楅檺\"\r\n    ],\r\n    mainImages: [\r\n      { index: 1, concept: \"鍦烘櫙浠ｅ叆\", suggestion: \"灏忔ā鐗瑰湪闆湴灏芥儏鐜╄€嶏紝绐佸嚭鈥樹粬鐨勭涓€浠舵姉瀵掓垬琚嶁€橽" },\r\n      { index: 2, concept: \"鍔熻兘鍙鍖朶", suggestion: \"鐗瑰啓棰嗗彛闃查寰窛缁嗚妭锛岀粨鍚堟皵娴侀樆鎸″彲瑙嗗寲\" },\r\n      { index: 3, concept: \"鐥涚偣瀵规瘮\", suggestion: \"瀵规瘮甯傞潰鑷冭偪鍐锛屽睍鐜拌交鐩堟椿鍔ㄨ嚜濡傜殑濮挎€乗" },\r\n      { index: 4, concept: \"鎴愬垎閫忔槑\", suggestion: \"瑙ｅ墫鍥惧睍绀哄唴閲屽厖缁掗噺鍜岀瀛﹀垎鍖轰繚鏆朶" },\r\n      { index: 5, concept: \"澶氳壊鍏ㄥ绂廫", suggestion: \"灞曠ず鎵€鏈塖KU棰滆壊锛屾弧瓒充笉鍚屾惌閰嶉渶姹俓" }\r\n    ],\r\n    longPageStructure: [\r\n      { section: \"棣栧睆娴锋姤\", content: \"鎺㈤櫓鍏ㄨ兘閾犵敳锛屼笓涓哄鍔ㄥ効绔ヨ璁" },\r\n      { section: \"鏍稿績鎶€鏈痋", content: \"鍔ㄦ€佸浘灞曠ず寰惊鐜€忔皵闈㈡枡\" },\r\n      { section: \"缁嗚妭閴磋祻\", content: \"鐗瑰啓鎷夐摼娴嬭瘯銆佽€愮（甯冩枡鎷兼帴澶刓" },\r\n      { section: \"灏虹爜涓庝繚鍏籠", content: \"鎻愪緵璇︾粏灏虹爜琛ㄤ笌鏈烘礂娉ㄦ剰浜嬮」\" }\r\n    ],\r\n    reviews: [\r\n      { persona: \"浜屽瀹跺涵濡堝\", content: \"鑰佸ぇ绌垮畬娲楁礂鍍忔柊鐨勪竴鏍凤紝鑰佷簩鎺ョ潃绌匡紝杩欏仛宸ラ拡鑴氱粷浜嗭紝姣斿晢鍦轰竷鍏櫨鐨勮繕濂姐€俓" },\r\n      { persona: \"婊戦洩鐖卞ソ鑰呭闀縗", content: \"甯﹀幓闀跨櫧灞遍浂涓嬩簩鍗佸害娌″枈鍐凤紒棰嗗彛閭ｉ噷鍖呭緱寰堝ソ锛岄槻椋庢晥鏋滅粰婊″垎锛乗" }\r\n    ],\r\n    qna: [\r\n      { question: \"鍖楁柟闆朵笅鍗佸嚑搴﹁兘鎵涗綇鍚楋紵\", answer: \"瀹屽叏娌￠棶棰橈紒鍐呴噷閲囩敤楂樺瘑搴﹂槻椋庢秱灞傚姞鍘氬疄缇界粧锛屼笓涓轰弗瀵掑湴鍖鸿璁°€俓" },\r\n      { question: \"琛ｆ湇閲嶅悧锛熸墦闆粭娲诲姩鏂逛究鍚楋紵\", answer: \"鍗佸垎杞荤泩銆傞噰鐢?D绔嬩綋鍓锛岀瀛﹀垎閰嶅厖缁掗噺锛屼繚鏆栧悓鏃舵嫆缁濊噧鑲裤€俓" },\r\n      { question: \"娴呰壊瀹规槗娲楀悧锛焅", answer: \"琛ㄥ眰缁忚繃鐗规盁榫欎笁闃插鐞嗭紝杞诲井姹℃笉涓€鎿﹀嵆鍑€锛屾敮鎸佽交鏌旀按娲椼€俓" }\r\n    ]\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\api\\campaign-monitor\\generate\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\api\\host-scheduling\\generate\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'VOLCENGINE_API_KEY' is assigned a value but never used.","line":4,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DOUBAO_ENDPOINT_ID' is assigned a value but never used.","line":5,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BASE_URL' is assigned a value but never used.","line":6,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'targetDate' is assigned a value but never used.","line":11,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\";\r\nimport { type HostSchedulingResponse, type StreamerProfile } from \"@/types/host-scheduling\";\r\n\r\nconst VOLCENGINE_API_KEY = process.env.VOLCENGINE_API_KEY || \"\";\r\nconst DOUBAO_ENDPOINT_ID = process.env.DOUBAO_ENDPOINT_ID || \"ep-20250218-placeholder\";\r\nconst BASE_URL = \"https://ark.cn-beijing.volces.com/api/v3\";\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json();\r\n    const { streamers, targetDate } = body;\r\n\r\n    // To simulate AI thinking time\r\n    await new Promise((resolve) => setTimeout(resolve, 2500));\r\n\r\n    // Dynamic Mock based on input streamers\r\n    const activeStreamers: StreamerProfile[] = streamers || [];\r\n    \r\n    // Sort streamers by conversion rate to find the \"best\" one for peak hour\r\n    const sortedStreamers = [...activeStreamers].sort((a, b) => b.conversionRate - a.conversionRate);\r\n    const topStreamer = sortedStreamers[0];\r\n    const midStreamer = sortedStreamers[1] || topStreamer;\r\n    const nightStreamer = sortedStreamers[2] || topStreamer;\r\n    const morningStreamer = sortedStreamers[3] || nightStreamer;\r\n\r\n    const mockResponse: HostSchedulingResponse = {\r\n      overallStrategy: \"鏍规嵁澶х洏鏁版嵁棰勬祴涓庡悇涓绘挱鍘嗗彶杞寲妯″瀷锛岀郴缁熼噰鍙栥€愮敯蹇岃禌椹€戠瓥鐣ワ細灏嗗鍗曚环涓庤浆鍖栫巼鍙岄珮鐨勫ご閮ㄤ富鎾厤缃湪鏅氶棿20:00-24:00娴侀噺鏋佸嘲娈碉紱涓叞閮ㄨ〃鐜扮ǔ瀹氱殑涓绘挱瑕嗙洊涓嬪崍鍦猴紱鑰屽叿鏈夎緝寮烘姉鐤插姵鑳藉姏鐨勬柊鏄熶富鎾礋璐ｆ媺閫氬噷鏅ㄥ強鏃╅棿闀垮熬娴侀噺銆傜‘淇濇祦閲忛珮宄版湡GMV鏈€澶у寲锛屼綆璋锋湡缁存寔鍦鸿鐑害銆俓",\r\n      estimatedGMVBoost: \"+24.5%\",\r\n      schedule: [\r\n        {\r\n          timeSlot: \"08:00 - 14:00\",\r\n          trafficLevel: \"Low\",\r\n          streamerId: morningStreamer?.id || \"s4\",\r\n          streamerName: morningStreamer?.name || \"鐮存檽涓绘挱\",\r\n          reasoning: \"璇ユ椂娈垫祦閲忓浜庣埇鍧℃湡锛岄€傚悎浜插拰鍔涘己銆佽閫熷钩绋崇殑涓绘挱杩涜绂忓埄娆惧瀵硷紝鎷夊崌鍋滅暀鏁版嵁銆俓"\r\n        },\r\n        {\r\n          timeSlot: \"14:00 - 20:00\",\r\n          trafficLevel: \"Medium\",\r\n          streamerId: midStreamer?.id || \"s2\",\r\n          streamerName: midStreamer?.name || \"鍗堝悗涓绘挱\",\r\n          reasoning: \"鎵挎帴涓嬪崍鑷劧娴侀噺锛岃涓绘挱鍚勯」绱犺川鍧囪　锛岃兘澶熺ǔ瀹氳浆鍖栧搴富濡囧強瀛︾敓缇や綋銆俓"\r\n        },\r\n        {\r\n          timeSlot: \"20:00 - 24:00\",\r\n          trafficLevel: \"Peak\",\r\n          streamerId: topStreamer?.id || \"s1\",\r\n          streamerName: topStreamer?.name || \"鐜嬬墝涓绘挱\",\r\n          reasoning: \"鍏ㄧ珯娴侀噺宄板€兼椂娈碉紒璇ヤ富鎾巻鍙茶浆鍖栫巼鏈€楂橈紝灏嗗叾瀹夋帓鍦ㄦ鍒讳富鎺ㄩ珮瀹㈠崟鍒╂鼎娆撅紝瀹炵幇鍗曟棩GMV鍐查《銆俓"\r\n        },\r\n        {\r\n          timeSlot: \"00:00 - 08:00\",\r\n          trafficLevel: \"Low\",\r\n          streamerId: nightStreamer?.id || \"s3\",\r\n          streamerName: nightStreamer?.name || \"澶滅尗涓绘挱\",\r\n          reasoning: \"璇ユ椂娈典负澶滅尗瀛愭祦閲忥紝璇ヤ富鎾搮闀垮埗閫犳儏缁簰鍔紝鑳芥湁鏁堟墦閫忔繁澶滃啿鍔ㄦ秷璐瑰缇わ紝骞舵壙鎺ユ棭闂寸孩鍒┿€俓"\r\n        }\r\n      ]\r\n    };\r\n\r\n    return NextResponse.json({ result: mockResponse });\r\n  } catch (error) {\r\n    console.error(error);\r\n    return NextResponse.json({ error: \"Failed to generate schedule\" }, { status: 500 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\api\\oculus\\generate\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\api\\oculus\\image\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\api\\oculus\\models\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\apparel-agent\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2498,2501],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2498,2501],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useRef } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ApparelInputForm } from \"@/components/apparel-agent/ApparelInputForm\";\r\nimport { AgentPipelineTracker } from \"@/components/apparel-agent/AgentPipelineTracker\";\r\nimport { StructuredOutputPanel } from \"@/components/apparel-agent/StructuredOutputPanel\";\r\nimport { type ApparelResponse, type MultiAgentPhase } from \"@/types/apparel\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function ApparelAgentPage() {\r\n  const [phase, setPhase] = useState<MultiAgentPhase>(\"idle\");\r\n  const [result, setResult] = useState<ApparelResponse | null>(null);\r\n  const abortControllerRef = useRef<AbortController | null>(null);\r\n\r\n  const startAgentSimulation = async () => {\r\n    const phases: MultiAgentPhase[] = [\r\n      \"vision_analysis\",\r\n      \"psychological_insight\",\r\n      \"copywriting\",\r\n      \"quality_review\",\r\n      \"completed\"\r\n    ];\r\n\r\n    for (let i = 0; i < phases.length - 1; i++) {\r\n      setPhase(phases[i]);\r\n      // Mock processing time for each agent to let the user see the UI progression\r\n      await new Promise(resolve => setTimeout(resolve, 1500 + Math.random() * 1000));\r\n    }\r\n    setPhase(\"completed\");\r\n  };\r\n\r\n  const handleGenerate = async (formData: { category: string; targetAudience: string; images: File[] }) => {\r\n    if (abortControllerRef.current) abortControllerRef.current.abort();\r\n    const controller = new AbortController();\r\n    abortControllerRef.current = controller;\r\n\r\n    setResult(null);\r\n    setPhase(\"idle\"); // reset\r\n\r\n    try {\r\n      // 1. Kick off the UI simulation in the background\r\n      const simPromise = startAgentSimulation();\r\n\r\n      // 2. Actually call the backend\r\n      const response = await fetch(\"/api/apparel-agent/generate\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          category: formData.category,\r\n          targetAudience: formData.targetAudience,\r\n          // Convert files to base64 if needed, for now just passing names as mock\r\n          images: formData.images.map(f => f.name)\r\n        }),\r\n        signal: controller.signal,\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"API call failed\");\r\n      const data = await response.json();\r\n\r\n      // 3. Wait for simulation to finish to hold the illusion\r\n      await simPromise;\r\n\r\n      setResult(data.result);\r\n      toast.success(\"绛栧垝鍏ㄦ鐢熸垚瀹屾瘯锛乗");\r\n    } catch (err: any) {\r\n      if (err.name !== \"AbortError\") {\r\n        console.error(err);\r\n        setPhase(\"failed\");\r\n        toast.error(\"鐢熸垚澶辫触锛岃閲嶈瘯\");\r\n      }\r\n    } finally {\r\n      abortControllerRef.current = null;\r\n    }\r\n  };\r\n\r\n  const handleStop = () => {\r\n    if (abortControllerRef.current) {\r\n      abortControllerRef.current.abort();\r\n      abortControllerRef.current = null;\r\n    }\r\n    setPhase(\"idle\");\r\n    toast.info(\"宸茬粓姝㈢敓鎴愪换鍔");\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col lg:flex-row h-screen p-4 md:p-6 lg:p-8 gap-6 overflow-hidden bg-zinc-950\">\r\n      \r\n      {/* Left Panel - Input */}\r\n      <motion.div\r\n        initial={{ opacity: 0, x: -20 }}\r\n        animate={{ opacity: 1, x: 0 }}\r\n        className=\"w-full lg:w-[400px] shrink-0 overflow-y-auto custom-scrollbar rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl flex flex-col\"\r\n      >\r\n        <div className=\"mb-6\">\r\n          <h1 className=\"text-2xl font-bold text-white tracking-tight\">Apparel Agent</h1>\r\n          <p className=\"text-sm text-zinc-400 mt-1\">鏈嶈璇︽儏椤靛鏅鸿兘浣撳伐浣滄祦</p>\r\n        </div>\r\n        \r\n        <ApparelInputForm \r\n          onGenerate={handleGenerate} \r\n          isGenerating={phase !== \"idle\" && phase !== \"completed\" && phase !== \"failed\"} \r\n          onStop={handleStop}\r\n        />\r\n      </motion.div>\r\n\r\n      {/* Right Panel - Progress & Output */}\r\n      <motion.div\r\n        initial={{ opacity: 0, x: 20 }}\r\n        animate={{ opacity: 1, x: 0 }}\r\n        transition={{ delay: 0.1 }}\r\n        className=\"flex-1 flex flex-col gap-6 overflow-hidden\"\r\n      >\r\n        {/* Top: Multi-Agent Pipeline Visualization (Always visible or shows status) */}\r\n        <div className=\"shrink-0\">\r\n          <AgentPipelineTracker currentPhase={phase} />\r\n        </div>\r\n\r\n        {/* Bottom: Structured Output */}\r\n        <div className=\"flex-1 overflow-hidden rounded-2xl border border-white/10 bg-black/20 backdrop-blur-xl relative\">\r\n          {phase === \"idle\" && !result && (\r\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center text-zinc-500\">\r\n              <span className=\"text-4xl mb-4 opacity-50\">馃</span>\r\n              <p>绛夊緟杈撳叆淇℃伅浠ュ惎鍔ㄦ櫤鑳戒綋鐭╅樀</p>\r\n            </div>\r\n          )}\r\n          \r\n          {phase === \"failed\" && !result && (\r\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center text-red-400\">\r\n              <span className=\"text-4xl mb-4\">鈿狅笍</span>\r\n              <p>浠诲姟涓柇鎴栧彂鐢熼敊璇?/p>\r\n            </div>\r\n          )}\r\n\r\n          {result && phase === \"completed\" && (\r\n            <StructuredOutputPanel data={result} />\r\n          )}\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\campaign-monitor\\page.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`stopSimulation` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\campaign-monitor\\page.tsx:39:11\n  37 |         \n  38 |         if (data.metric.status === \"paused\") {\n> 39 |           stopSimulation();\n     |           ^^^^^^^^^^^^^^ `stopSimulation` accessed before it is declared\n  40 |         }\n  41 |       }\n  42 |     } catch (e) {\n\nC:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\campaign-monitor\\page.tsx:61:3\n  59 |   };\n  60 |\n> 61 |   const stopSimulation = () => {\n     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 62 |     setIsSimulating(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 63 |     if (simulationRef.current) {\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 64 |       clearInterval(simulationRef.current);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 65 |       simulationRef.current = null;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 66 |     }\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 67 |   };\n     | ^^^^^ `stopSimulation` is declared here\n  68 |\n  69 |   useEffect(() => {\n  70 |     if (isSimulating) {","line":39,"column":11,"nodeType":null,"endLine":39,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { type CampaignMetric, type ActionLog } from \"@/types/campaign-monitor\";\r\nimport { CampaignDashboard } from \"@/components/campaign-monitor/CampaignDashboard\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport MagneticButton from \"@/app/components/MagneticButton\";\r\n\r\nconst INITIAL_METRICS: CampaignMetric[] = [{\r\n  timestamp: \"00:00:00\",\r\n  spend: 50,\r\n  revenue: 120,\r\n  roi: 2.4,\r\n  cpc: 0.8,\r\n  status: \"running\"\r\n}];\r\n\r\nexport default function CampaignMonitorPage() {\r\n  const [metrics, setMetrics] = useState<CampaignMetric[]>(INITIAL_METRICS);\r\n  const [logs, setLogs] = useState<ActionLog[]>([]);\r\n  const [isSimulating, setIsSimulating] = useState(false);\r\n  const simulationRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const tickSimulation = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(\"/api/campaign-monitor/generate\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ currentMetrics: metrics }),\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMetrics(prev => [...prev.slice(-100), data.metric]); // Keep last 100 max\r\n        if (data.log) {\r\n          setLogs(prev => [...prev, data.log]);\r\n        }\r\n        \r\n        if (data.metric.status === \"paused\") {\r\n          stopSimulation();\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      stopSimulation();\r\n    }\r\n  }, [metrics]);\r\n\r\n  const startSimulation = () => {\r\n    setIsSimulating(true);\r\n    // Clear old state except a fresh start\r\n    setMetrics(INITIAL_METRICS);\r\n    setLogs([{\r\n      id: \"init1\",\r\n      timestamp: \"00:00:00\",\r\n      level: \"info\",\r\n      message: \"AI 瀹夊叏鍛樺凡涓婄嚎銆傛帴绠″崍澶滄椂娈垫姇娴佽鍒掔洃鎺ф潈闄愩€俓",\r\n      actionTaken: \"鍔犺浇鍘嗗彶妯″瀷涓庡簳绾挎鎹熼槇鍊?ROI < 1.0)銆傚紑濮嬬洃鍚暟鎹祦...\"\r\n    }]);\r\n  };\r\n\r\n  const stopSimulation = () => {\r\n    setIsSimulating(false);\r\n    if (simulationRef.current) {\r\n      clearInterval(simulationRef.current);\r\n      simulationRef.current = null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSimulating) {\r\n      simulationRef.current = setInterval(() => {\r\n        tickSimulation();\r\n      }, 2500); // Fetch new tick every 2.5s\r\n    } else if (simulationRef.current) {\r\n      clearInterval(simulationRef.current);\r\n    }\r\n    \r\n    return () => {\r\n      if (simulationRef.current) clearInterval(simulationRef.current);\r\n    };\r\n  }, [isSimulating, tickSimulation]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen p-4 md:p-6 lg:p-8 gap-6 overflow-hidden bg-zinc-950\">\r\n      \r\n      {/* Header */}\r\n      <div className=\"shrink-0 flex items-center justify-between border-b border-white/10 pb-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-white tracking-tight flex items-center gap-2\">\r\n            <Icon icon=\"lucide:radar\" className=\"text-emerald-400\" />\r\n            AI 鎶曟祦鐩洏鐩戞帶涓績\r\n          </h1>\r\n          <p className=\"text-sm text-zinc-400 mt-1\">24灏忔椂鏃犱汉鍊煎畧锛岀畻娉曢槻璺岀牬鐔旀柇鎶€鏈?/p>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"flex items-center gap-2 text-sm text-zinc-400 font-mono bg-black/40 px-3 py-1.5 rounded-lg border border-white/5\">\r\n             <Icon icon=\"lucide:cpu\" />\r\n             AI Engine: DeepSeek-Volcengine (Active)\r\n          </div>\r\n          \r\n          <MagneticButton\r\n            onClick={isSimulating ? stopSimulation : startSimulation}\r\n            className={`px-6 h-10 rounded-lg font-bold flex items-center justify-center gap-2 transition-all cursor-pointer ${\r\n              isSimulating ? 'bg-red-500/20 text-red-500 border border-red-500/30' : 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30'\r\n            }`}\r\n          >\r\n            {isSimulating ? (\r\n              <><Icon icon=\"lucide:square\" className=\"w-4 h-4\" /> 缁堟鎺ョ</>\r\n            ) : (\r\n              <><Icon icon=\"lucide:play\" className=\"w-4 h-4\" /> 鎺堟潈 AI 鎺ョ鐩橀潰</>\r\n            )}\r\n          </MagneticButton>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content Area */}\r\n      <div className=\"flex-1 min-h-0 bg-transparent relative\">\r\n        {!isSimulating && metrics.length === 1 && logs.length === 0 ? (\r\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center border-2 border-dashed border-white/10 rounded-2xl\">\r\n             <Icon icon=\"lucide:shield-check\" className=\"w-16 h-16 text-zinc-700 mb-4\" />\r\n             <p className=\"text-zinc-500 font-bold text-lg\">绯荤粺寰呭懡涓?(Standby)</p>\r\n             <p className=\"text-sm text-zinc-600 mt-2\">鐐瑰嚮鍙充笂瑙掆€滄巿鏉?AI 鎺ョ鈥濆紑濮嬫ā鎷熷疄鏃剁洏闈㈢洴鐩?/p>\r\n          </div>\r\n        ) : (\r\n          <CampaignDashboard metrics={metrics} logs={logs} />\r\n        )}\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\components\\ImageSlicer.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":210,"column":29,"nodeType":"JSXOpeningElement","endLine":210,"endColumn":115,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":304,"column":42,"nodeType":"JSXOpeningElement","endLine":304,"endColumn":177,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\components\\MagneticButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\host-scheduling\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":153,"column":27,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[7542,7571],"text":"\r\n                          &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[7542,7571],"text":"\r\n                          &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[7542,7571],"text":"\r\n                          &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[7542,7571],"text":"\r\n                          &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":153,"column":44,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[7587,7614],"text":"&quot;\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[7587,7614],"text":"&ldquo;\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[7587,7614],"text":"&#34;\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[7587,7614],"text":"&rdquo;\r\n                        "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { type HostSchedulingResponse, type StreamerProfile } from \"@/types/host-scheduling\";\r\nimport { HostInputPanel } from \"@/components/host-scheduling/HostInputPanel\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { toast } from \"sonner\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport default function HostSchedulingPage() {\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [result, setResult] = useState<HostSchedulingResponse | null>(null);\r\n\r\n  const handleGenerate = async (streamers: StreamerProfile[]) => {\r\n    setIsGenerating(true);\r\n    setResult(null);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/host-scheduling/generate\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ streamers }),\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"API call failed\");\r\n      const data = await response.json();\r\n      \r\n      setResult(data.result);\r\n      toast.success(\"鎺掔彮绛栫暐鐢熸垚瀹屾垚锛乗");\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"绛栫暐鐢熸垚澶辫触锛岃閲嶈瘯\");\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col lg:flex-row h-screen p-4 md:p-6 lg:p-8 gap-6 overflow-hidden bg-zinc-950\">\r\n      \r\n      {/* Left Panel - Roster Input */}\r\n      <motion.div\r\n        initial={{ opacity: 0, x: -20 }}\r\n        animate={{ opacity: 1, x: 0 }}\r\n        className=\"w-full lg:w-[380px] shrink-0 overflow-y-auto custom-scrollbar rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl flex flex-col\"\r\n      >\r\n        <div className=\"mb-6\">\r\n          <h1 className=\"text-2xl font-bold text-white tracking-tight flex items-center gap-2\">\r\n            <Icon icon=\"lucide:calendar-check\" className=\"text-indigo-400\" />\r\n            Host Scheduler\r\n          </h1>\r\n          <p className=\"text-sm text-zinc-400 mt-1\">AI 鍔ㄦ€佸埄娑︽渶澶у寲鎺掔彮鏅鸿兘浣?/p>\r\n        </div>\r\n        \r\n        <HostInputPanel onGenerate={handleGenerate} isGenerating={isGenerating} />\r\n      </motion.div>\r\n\r\n      {/* Right Panel - Schedule Output */}\r\n      <motion.div\r\n        initial={{ opacity: 0, x: 20 }}\r\n        animate={{ opacity: 1, x: 0 }}\r\n        transition={{ delay: 0.1 }}\r\n        className=\"flex-1 overflow-hidden rounded-2xl border border-white/10 bg-black/20 backdrop-blur-xl relative\"\r\n      >\r\n        {!result && !isGenerating && (\r\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center text-zinc-500\">\r\n            <Icon icon=\"lucide:clock-4\" className=\"text-4xl mb-4 opacity-50 w-12 h-12\" />\r\n            <p>鍩轰簬褰撳墠鐭╅樀涓绘挱妗ｆ锛岀偣鍑荤敓鎴愭渶浼樻帓鏈熷瓧鍏?/p>\r\n          </div>\r\n        )}\r\n\r\n        {isGenerating && (\r\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-black/50 backdrop-blur-sm z-10\">\r\n             <div className=\"relative w-24 h-24 mb-4\">\r\n                <div className=\"absolute inset-0 border-t-2 border-indigo-500 rounded-full animate-spin\"></div>\r\n                <div className=\"absolute inset-2 border-r-2 border-purple-500 rounded-full animate-spin direction-reverse\"></div>\r\n                <Icon icon=\"lucide:brain-circuit\" className=\"absolute inset-0 m-auto text-indigo-400 w-8 h-8 opacity-80\" />\r\n             </div>\r\n             <p className=\"text-sm text-indigo-300 animate-pulse\">姝ｅ湪婕旂畻鍗冧竾绾х粍鍚堢煩闃碉紝瀵绘壘鍒╂鼎鏈€浼樼偣...</p>\r\n          </div>\r\n        )}\r\n\r\n        <AnimatePresence>\r\n          {result && (\r\n            <motion.div \r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              className=\"h-full p-6 lg:p-8 overflow-y-auto custom-scrollbar\"\r\n            >\r\n              {/* Strategy Header */}\r\n              <div className=\"flex flex-col md:flex-row gap-6 mb-8 items-start\">\r\n                <div className=\"flex-1 bg-indigo-500/10 border border-indigo-500/20 p-5 rounded-xl\">\r\n                  <h3 className=\"text-indigo-400 font-bold flex items-center gap-2 mb-2\">\r\n                    <Icon icon=\"lucide:target\" /> 瀹忚绛栫暐鎺ㄦ紨 (Strategy)\r\n                  </h3>\r\n                  <p className=\"text-sm text-zinc-300 leading-relaxed\">{result.overallStrategy}</p>\r\n                </div>\r\n                \r\n                <div className=\"bg-emerald-500/10 border border-emerald-500/20 p-5 rounded-xl md:w-48 shrink-0 flex flex-col items-center justify-center text-center\">\r\n                   <span className=\"text-[10px] text-emerald-400 uppercase tracking-widest mb-1\">Estimated GMV Boost</span>\r\n                   <span className=\"text-4xl font-mono font-bold text-emerald-500 drop-shadow-[0_0_10px_rgba(16,185,129,0.5)]\">\r\n                     {result.estimatedGMVBoost}\r\n                   </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Weekly Timeline view mockup */}\r\n              <h3 className=\"text-sm font-semibold text-zinc-400 mb-4 uppercase tracking-wider relative flex items-center\">\r\n                 <span className=\"bg-zinc-950 pr-4 z-10 relative\">AI 寤鸿鐝〃 (Assigned Slots)</span>\r\n                 <div className=\"absolute w-full h-px bg-white/10 left-0 top-1/2\"></div>\r\n              </h3>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                {result.schedule.map((slot, idx) => {\r\n                  const isPeak = slot.trafficLevel === \"Peak\";\r\n                  return (\r\n                    <motion.div \r\n                      initial={{ opacity: 0, y: 20 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      transition={{ delay: idx * 0.1 }}\r\n                      key={idx} \r\n                      className={cn(\r\n                        \"p-5 rounded-xl border relative overflow-hidden flex flex-col h-full\",\r\n                        isPeak ? \"bg-purple-500/5 border-purple-500/30\" : \"bg-white/5 border-white/5\"\r\n                      )}\r\n                    >\r\n                      {isPeak && (\r\n                         <div className=\"absolute top-0 right-0 bg-purple-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg\">\r\n                           娴侀噺宸呭嘲\r\n                         </div>\r\n                      )}\r\n                      \r\n                      <div className=\"flex items-center gap-2 mb-4\">\r\n                        <Icon icon=\"lucide:clock\" className=\"text-zinc-500 w-4 h-4\" />\r\n                        <span className=\"font-mono font-bold text-white tracking-widest\">{slot.timeSlot}</span>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center gap-3 mb-4\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center border border-white/10 shrink-0\">\r\n                          <span className=\"font-bold text-lg text-white\">{slot.streamerName.charAt(0)}</span>\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"text-xs text-zinc-500 mb-0.5\">鎸囨淳涓绘挱</div>\r\n                          <div className={cn(\"text-base font-bold\", isPeak ? \"text-purple-400\" : \"text-zinc-200\")}>\r\n                            {slot.streamerName}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"mt-auto pt-4 border-t border-white/5\">\r\n                        <p className=\"text-xs text-zinc-400 leading-relaxed italic\">\r\n                          \"{slot.reasoning}\"\r\n                        </p>\r\n                      </div>\r\n                    </motion.div>\r\n                  )\r\n                })}\r\n              </div>\r\n\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\oculus-flow\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\template-library\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\app\\template-library\\page.tsx:68:5\n  66 |   useEffect(() => {\n  67 |     // eslint-disable-next-line\n> 68 |     refreshSchemes();\n     |     ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  69 |   }, [refreshSchemes]);\n  70 |\n  71 |   return (","line":68,"column":5,"nodeType":null,"endLine":68,"endColumn":19,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\AppSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\SidebarLayout.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\SidebarLayout.tsx:21:9\n  19 |       if (stored !== null) {\n  20 |         // eslint-disable-next-line\n> 21 |         setCollapsed(JSON.parse(stored));\n     |         ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  22 |       }\n  23 |     } catch {\n  24 |       // ignore","line":21,"column":9,"nodeType":null,"endLine":21,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\apparel-agent\\AgentPipelineTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\apparel-agent\\ApparelInputForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useCallback' is defined but never used.","line":3,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":46,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useCallback"},"fix":{"range":[49,62],"text":""},"desc":"Remove unused variable \"useCallback\"."}]}],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":109,"column":19,"nodeType":"JSXOpeningElement","endLine":109,"endColumn":89,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useRef, useCallback } from \"react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport MagneticButton from \"@/app/components/MagneticButton\";\r\n\r\ninterface ApparelInputFormProps {\r\n  onGenerate: (data: { category: string; targetAudience: string; images: File[] }) => void;\r\n  onStop: () => void;\r\n  isGenerating: boolean;\r\n}\r\n\r\nexport function ApparelInputForm({ onGenerate, onStop, isGenerating }: ApparelInputFormProps) {\r\n  const [category, setCategory] = useState(\"缇界粧鏈峔");\r\n  const [targetAudience, setTargetAudience] = useState(\"鍎跨锛涗腑澶х锛?10-175\");\r\n  const [images, setImages] = useState<File[]>([]);\r\n  const [previews, setPreviews] = useState<string[]>([]);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      const newFiles = Array.from(e.target.files);\r\n      setImages(prev => [...prev, ...newFiles]);\r\n      \r\n      const newPreviews = newFiles.map(file => URL.createObjectURL(file));\r\n      setPreviews(prev => [...prev, ...newPreviews]);\r\n    }\r\n  };\r\n\r\n  const removeImage = (index: number) => {\r\n    setImages(prev => prev.filter((_, i) => i !== index));\r\n    setPreviews(prev => {\r\n      const newPreviews = [...prev];\r\n      URL.revokeObjectURL(newPreviews[index]);\r\n      newPreviews.splice(index, 1);\r\n      return newPreviews;\r\n    });\r\n  };\r\n\r\n  const onSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!category.trim() || !targetAudience.trim()) return;\r\n    onGenerate({ category, targetAudience, images });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit} className=\"flex flex-col gap-6 flex-1\">\r\n      <div className=\"space-y-4\">\r\n        {/* Category */}\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"category\" className=\"text-zinc-300\">浜у搧鍝佺被 (Category)</Label>\r\n          <Input \r\n            id=\"category\"\r\n            value={category}\r\n            onChange={(e) => setCategory(e.target.value)}\r\n            disabled={isGenerating}\r\n            placeholder=\"渚嬪锛氱窘缁掓湇銆佸啿閿嬭。\"\r\n            className=\"bg-black/30 border-white/10 text-white placeholder:text-zinc-600 focus-visible:ring-indigo-500\"\r\n          />\r\n        </div>\r\n\r\n        {/* Target Audience */}\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"targetAudience\" className=\"text-zinc-300\">鐩爣瀹㈢兢 (Audience Tags)</Label>\r\n          <Input \r\n            id=\"targetAudience\"\r\n            value={targetAudience}\r\n            onChange={(e) => setTargetAudience(e.target.value)}\r\n            disabled={isGenerating}\r\n            placeholder=\"渚嬪锛氬効绔ワ紱涓ぇ绔ワ紱110-175\"\r\n            className=\"bg-black/30 border-white/10 text-white placeholder:text-zinc-600 focus-visible:ring-indigo-500 font-mono text-sm\"\r\n          />\r\n          <p className=\"text-[10px] text-zinc-500 mt-1\">鏃犻渶杈撳叆璇︾粏灏虹爜鎴栧弬鏁帮紝AI 鑷姩杩涜浜虹兢闄嶇淮娲炲療銆?/p>\r\n        </div>\r\n\r\n        {/* Visual Input (Dropzone simplified) */}\r\n        <div className=\"space-y-2 mt-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n             <Label className=\"text-zinc-300\">瑙嗚璧勪骇 (Vision Input)</Label>\r\n             <span className=\"text-[10px] text-zinc-500\">{images.length} / 5</span>\r\n          </div>\r\n          \r\n          <div \r\n            onClick={() => !isGenerating && fileInputRef.current?.click()}\r\n            className={`border-2 border-dashed rounded-xl p-6 flex flex-col items-center justify-center cursor-pointer transition-colors ${isGenerating ? 'border-zinc-800 opacity-50 cursor-not-allowed' : 'border-zinc-700 hover:border-indigo-500 hover:bg-indigo-500/5'}`}\r\n          >\r\n             <Icon icon=\"lucide:image-plus\" className=\"h-8 w-8 text-zinc-400 mb-2\" />\r\n             <span className=\"text-sm font-medium text-zinc-300\">娣诲姞骞抽摵鍥?妯＄壒鍥?/span>\r\n             <span className=\"text-xs text-zinc-500 mt-1\">AI 瑙嗚瑙ｆ瀽甯堝皢鑷姩璇嗗埆璁捐鍗栫偣</span>\r\n             <input \r\n               ref={fileInputRef}\r\n               type=\"file\"\r\n               multiple\r\n               accept=\"image/*\"\r\n               className=\"hidden\"\r\n               onChange={handleImageUpload}\r\n               disabled={isGenerating}\r\n             />\r\n          </div>\r\n\r\n          {/* Image Previews */}\r\n          {previews.length > 0 && (\r\n            <div className=\"flex gap-2 flex-wrap mt-3\">\r\n              {previews.map((src, idx) => (\r\n                <div key={idx} className=\"relative group w-16 h-16 rounded-md overflow-hidden ring-1 ring-white/10 bg-black\">\r\n                  {/* eslint-disable-next-line @next/next/no-img-element */}\r\n                  <img src={src} alt=\"preview\" className=\"w-full h-full object-cover\" />\r\n                  {!isGenerating && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={(e) => { e.stopPropagation(); removeImage(idx); }}\r\n                      className=\"absolute top-1 right-1 bg-black/60 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                    >\r\n                      <Icon icon=\"lucide:x\" className=\"h-3 w-3 text-white\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-auto pt-6 flex gap-3\">\r\n        {isGenerating ? (\r\n          <MagneticButton\r\n            onClick={onStop}\r\n            type=\"button\"\r\n            className=\"flex-1 h-12 bg-red-500/10 text-red-500 border border-red-500/20 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-red-500/20 transition-colors\"\r\n          >\r\n            <Icon icon=\"lucide:square\" className=\"h-4 w-4\" />\r\n            绱ф€ヤ腑鏂璡r\n          </MagneticButton>\r\n        ) : (\r\n          <MagneticButton\r\n            type=\"submit\"\r\n            className=\"flex-1 h-12 bg-linear-to-r from-indigo-500 to-purple-500 text-white rounded-xl font-medium flex items-center justify-center gap-2 hover:opacity-90 active:scale-[0.98] shadow-lg shadow-indigo-500/25\"\r\n          >\r\n            <Icon icon=\"lucide:bot\" className=\"h-5 w-5\" />\r\n            浜ょ敱 AI 鎺ョ绛栧垝\r\n          </MagneticButton>\r\n        )}\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\apparel-agent\\StructuredOutputPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\campaign-monitor\\CampaignDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":112,"column":100,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":103,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5522,5525],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5522,5525],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { type CampaignMetric, type ActionLog } from \"@/types/campaign-monitor\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface CampaignDashboardProps {\r\n  metrics: CampaignMetric[];\r\n  logs: ActionLog[];\r\n}\r\n\r\nexport function CampaignDashboard({ metrics, logs }: CampaignDashboardProps) {\r\n  const current = metrics[metrics.length - 1];\r\n  const logsEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (logsEndRef.current) {\r\n      logsEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [logs]);\r\n\r\n  if (!current) return null;\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full gap-6\">\r\n      \r\n      {/* Top Stats Cards */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 shrink-0\">\r\n        <MetricCard title=\"鎬绘秷鑰?(Spend)\" value={`楼${current.spend}`} prefix=\"lucide:banknote\" trend={current.spend - (metrics[metrics.length - 2]?.spend || current.spend)} inverted />\r\n        <MetricCard title=\"鎬昏惀鏀?(GMV)\" value={`楼${current.revenue}`} prefix=\"lucide:shopping-bag\" trend={current.revenue - (metrics[metrics.length - 2]?.revenue || current.revenue)} />\r\n        <MetricCard title=\"瀹炴椂鎶曚骇姣?(ROI)\" value={current.roi.toString()} prefix=\"lucide:arrow-up-right\" \r\n          statusColor={current.roi > 2.0 ? \"text-emerald-400\" : current.roi < 1.0 ? \"text-red-400\" : \"text-zinc-200\"} />\r\n        <MetricCard title=\"鍗曟鐐瑰嚮鎴愭湰 (CPC)\" value={`楼${current.cpc.toFixed(2)}`} prefix=\"lucide:mouse-pointer-click\" inverted />\r\n      </div>\r\n\r\n      <div className=\"flex flex-col lg:flex-row gap-6 flex-1 min-h-0\">\r\n        {/* Left: Chart/Metrics Visualization Mock */}\r\n        <div className=\"flex-1 bg-black/40 border border-white/5 p-6 rounded-2xl flex flex-col min-h-0 relative overflow-hidden\">\r\n           <h3 className=\"text-sm font-bold text-white mb-4 flex items-center gap-2\">\r\n             <Icon icon=\"lucide:activity\" className=\"text-indigo-400\" />\r\n             瀹炴椂鎶曟斁瓒嬪娍鐩戞帶\r\n           </h3>\r\n           \r\n           <div className=\"flex-1 flex items-end gap-1 overflow-hidden opacity-50 relative bottom-0\">\r\n              {metrics.slice(-40).map((m, i) => (\r\n                <motion.div \r\n                  key={m.timestamp + i}\r\n                  initial={{ height: 0 }}\r\n                  animate={{ height: `${Math.min(100, (m.roi / 5) * 100)}%` }}\r\n                  className={cn(\r\n                    \"flex-1 rounded-t-sm w-full min-w-[8px]\",\r\n                    m.roi > 2.5 ? \"bg-emerald-500\" : m.roi < 1.0 ? \"bg-red-500\" : \"bg-indigo-500\"\r\n                  )}\r\n                />\r\n              ))}\r\n           </div>\r\n           \r\n           {/* Overlay status */}\r\n           {current.status === \"paused\" && (\r\n             <div className=\"absolute inset-0 bg-red-950/80 backdrop-blur-sm flex items-center justify-center flex-col z-20\">\r\n               <Icon icon=\"lucide:shield-alert\" className=\"w-16 h-16 text-red-500 mb-4 animate-pulse\" />\r\n               <h2 className=\"text-2xl font-bold text-white tracking-widest uppercase\">绯荤粺鐔旀柇淇濇姢瑙﹀彂</h2>\r\n               <p className=\"text-red-200 mt-2\">娑堣€楄秴鏍囦笖杞寲浣庤糠锛屽凡寮鸿鍒囨柇棰勭畻闃叉璺戦</p>\r\n             </div>\r\n           )}\r\n        </div>\r\n\r\n        {/* Right: AI Action Logs */}\r\n        <div className=\"w-full lg:w-[450px] bg-zinc-950 border border-white/10 rounded-2xl flex flex-col shrink-0 min-h-0 relative overflow-hidden\">\r\n          <div className=\"p-4 border-b border-white/5 bg-white/5 shrink-0 flex items-center justify-between\">\r\n            <h3 className=\"text-sm font-bold text-white flex items-center gap-2\">\r\n              <Icon icon=\"lucide:terminal\" className=\"text-zinc-400\" />\r\n              AI 瀹夊叏鍛樿鍔ㄦ棩蹇梊r\n            </h3>\r\n            <span className=\"flex h-2 w-2\">\r\n              <span className=\"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-emerald-400 opacity-75\"></span>\r\n              <span className=\"relative inline-flex rounded-full h-2 w-2 bg-emerald-500\"></span>\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar\">\r\n            <AnimatePresence initial={false}>\r\n              {logs.map((log) => (\r\n                <motion.div \r\n                  key={log.id}\r\n                  initial={{ opacity: 0, x: -20, height: 0 }}\r\n                  animate={{ opacity: 1, x: 0, height: \"auto\" }}\r\n                  className=\"bg-black/40 border border-white/5 rounded-lg p-3\"\r\n                >\r\n                   <div className=\"flex items-center gap-2 mb-2 text-xs font-mono\">\r\n                     <span className=\"text-zinc-500\">{log.timestamp}</span>\r\n                     <LogStatusBadge level={log.level} />\r\n                   </div>\r\n                   <p className=\"text-sm text-zinc-300 leading-relaxed max-w-[95%]\">{log.message}</p>\r\n                   <div className=\"mt-3 pt-2 border-t border-white/5 flex gap-2 items-start\">\r\n                     <Icon icon=\"lucide:bot\" className=\"text-indigo-400 w-4 h-4 mt-0.5 shrink-0\" />\r\n                     <p className=\"text-xs text-indigo-300 font-medium\">{log.actionTaken}</p>\r\n                   </div>\r\n                </motion.div>\r\n              ))}\r\n            </AnimatePresence>\r\n            <div ref={logsEndRef} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MetricCard({ title, value, prefix, statusColor = \"text-white\", trend, inverted = false }: any) {\r\n  return (\r\n    <div className=\"bg-white/5 border border-white/10 rounded-2xl p-5 flex flex-col\">\r\n      <div className=\"text-xs font-bold text-zinc-500 uppercase tracking-widest flex items-center gap-2 mb-2\">\r\n        <Icon icon={prefix} className=\"text-zinc-400\" /> {title}\r\n      </div>\r\n      <div className={`text-2xl md:text-3xl font-mono font-bold ${statusColor}`}>{value}</div>\r\n      {trend !== undefined && (\r\n        <div className={`text-[10px] mt-2 font-bold flex items-center gap-1\r\n          ${trend > 0 ? (inverted ? 'text-red-400' : 'text-emerald-400') : trend < 0 ? (inverted ? 'text-emerald-400' : 'text-red-400') : 'text-zinc-500'}`}\r\n        >\r\n          <Icon icon={trend > 0 ? \"lucide:trending-up\" : trend < 0 ? \"lucide:trending-down\" : \"lucide:minus\"} />\r\n          {Math.abs(trend).toFixed(2)} vs last tick\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LogStatusBadge({ level }: { level: string }) {\r\n  switch (level) {\r\n    case 'critical':\r\n      return <span className=\"text-[10px] px-2 py-0.5 rounded-sm bg-red-500/20 text-red-400 border border-red-500/30 uppercase tracking-wider\">Critical</span>;\r\n    case 'warning':\r\n      return <span className=\"text-[10px] px-2 py-0.5 rounded-sm bg-orange-500/20 text-orange-400 border border-orange-500/30 uppercase tracking-wider\">Warning</span>;\r\n    case 'success':\r\n      return <span className=\"text-[10px] px-2 py-0.5 rounded-sm bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 uppercase tracking-wider\">Scale</span>;\r\n    default:\r\n      return <span className=\"text-[10px] px-2 py-0.5 rounded-sm bg-blue-500/20 text-blue-400 border border-blue-500/30 uppercase tracking-wider\">Info</span>;\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\host-scheduling\\HostInputPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setStreamers' is assigned a value but never used.","line":22,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { type StreamerProfile } from \"@/types/host-scheduling\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport MagneticButton from \"@/app/components/MagneticButton\";\r\n\r\nconst initialStreamers: StreamerProfile[] = [\r\n  { id: \"s1\", name: \"瀹夊 (Top)\", tags: [\"楂樿浆鍖朶", \"鎴愮啛绋抽噸\"], conversionRate: 5.2, avgTicketSize: 180, maxHours: 4 },\r\n  { id: \"s2\", name: \"CC (Mid)\", tags: [\"浜插拰鍔沑", \"浜掑姩濂絓"], conversionRate: 3.8, avgTicketSize: 120, maxHours: 6 },\r\n  { id: \"s3\", name: \"Leo (Night)\", tags: [\"鎶楃啲澶淺", \"鐢蜂富鎾璡"], conversionRate: 2.5, avgTicketSize: 90, maxHours: 8 },\r\n  { id: \"s4\", name: \"鏋楁灄 (New)\", tags: [\"褰㈣薄濂絓", \"鏂版墜\"], conversionRate: 1.8, avgTicketSize: 85, maxHours: 4 },\r\n];\r\n\r\ninterface HostInputPanelProps {\r\n  onGenerate: (streamers: StreamerProfile[]) => void;\r\n  isGenerating: boolean;\r\n}\r\n\r\nexport function HostInputPanel({ onGenerate, isGenerating }: HostInputPanelProps) {\r\n  const [streamers, setStreamers] = useState<StreamerProfile[]>(initialStreamers);\r\n\r\n  // In a real app we'd have editable forms, for now we just show the active roster\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onGenerate(streamers);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"flex flex-col h-full\">\r\n      <div className=\"flex-1 overflow-y-auto pr-2 custom-scrollbar\">\r\n        <h3 className=\"text-sm font-semibold text-zinc-400 mb-4 uppercase tracking-wider\">鍙敤涓绘挱鐭╅樀鍥婃嫭 (Roster)</h3>\r\n        \r\n        <div className=\"space-y-3\">\r\n          {streamers.map((s, idx) => (\r\n            <div key={idx} className=\"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-indigo-500/30 transition-colors\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-8 h-8 rounded-full bg-indigo-500/20 flex items-center justify-center text-indigo-400 font-bold\">\r\n                    {s.name.charAt(0)}\r\n                  </div>\r\n                  <span className=\"font-bold text-white text-sm\">{s.name}</span>\r\n                </div>\r\n                <div className=\"flex gap-1 text-[10px]\">\r\n                  {s.tags.map(t => (\r\n                    <span key={t} className=\"px-2 py-0.5 rounded-full bg-black/40 text-zinc-400 border border-white/5\">{t}</span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-3 gap-2 mt-3\">\r\n                <div className=\"bg-black/30 rounded p-2 text-center\">\r\n                  <div className=\"text-[10px] text-zinc-500\">杞寲鐜?/div>\r\n                  <div className=\"text-xs font-mono font-bold text-emerald-400\">{s.conversionRate}%</div>\r\n                </div>\r\n                <div className=\"bg-black/30 rounded p-2 text-center\">\r\n                  <div className=\"text-[10px] text-zinc-500\">瀹㈠崟浠?/div>\r\n                  <div className=\"text-xs font-mono font-bold text-orange-400\">楼{s.avgTicketSize}</div>\r\n                </div>\r\n                <div className=\"bg-black/30 rounded p-2 text-center\">\r\n                  <div className=\"text-[10px] text-zinc-500\">浣撳姏涓婇檺</div>\r\n                  <div className=\"text-xs font-mono font-bold text-zinc-300\">{s.maxHours}h</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"mt-6\">\r\n           <div className=\"flex items-center gap-2 mb-2\">\r\n              <Icon icon=\"lucide:calendar-clock\" className=\"text-zinc-400\" />\r\n              <span className=\"text-sm text-zinc-300\">鐩爣鎺掔彮鏃ユ湡</span>\r\n           </div>\r\n           <Input \r\n             type=\"date\"\r\n             defaultValue={new Date().toISOString().split('T')[0]}\r\n             className=\"bg-black/30 border-white/10 text-white css-invert-calendar-icon\"\r\n           />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6 pt-4 border-t border-white/10\">\r\n        <MagneticButton\r\n          type=\"submit\"\r\n          disabled={isGenerating}\r\n          className={`w-full h-12 rounded-xl font-medium flex items-center justify-center gap-2 transition-all\r\n            ${isGenerating ? 'bg-indigo-500/50 text-white/50 cursor-not-allowed' : 'bg-linear-to-r from-indigo-500 to-purple-500 text-white hover:opacity-90 shadow-lg shadow-indigo-500/25'}`}\r\n        >\r\n          {isGenerating ? (\r\n            <>\r\n              <Icon icon=\"lucide:loader-2\" className=\"h-5 w-5 animate-spin\" />\r\n              AI 浠跨湡鎺ㄦ紨鎺掔彮涓?..\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Icon icon=\"lucide:cpu\" className=\"h-5 w-5\" />\r\n              鐢熸垚鍒╂鼎鏈€澶у寲鎺掓湡琛╘r\n            </>\r\n          )}\r\n        </MagneticButton>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\oculus-flow\\ArkImageGenOptionsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\oculus-flow\\InputForm.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":428,"column":15,"nodeType":"JSXOpeningElement","endLine":438,"endColumn":17,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":529,"column":19,"nodeType":"JSXOpeningElement","endLine":534,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":825,"column":11,"nodeType":"JSXOpeningElement","endLine":829,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\oculus-flow\\PreviewPanel.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[747,750],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[747,750],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":173,"column":13,"nodeType":"JSXOpeningElement","endLine":177,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":244,"column":13,"nodeType":"JSXOpeningElement","endLine":248,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":567,"column":13,"nodeType":"JSXOpeningElement","endLine":567,"endColumn":81,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":615,"column":19,"nodeType":"JSXOpeningElement","endLine":619,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\oculus-flow\\PromptTemplateManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\oculus-flow\\SettingsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\oculus-flow\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\types\\apparel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\types\\campaign-monitor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\CygneNoir\\Desktop\\Noir\\OculusFlow\\types\\host-scheduling.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
